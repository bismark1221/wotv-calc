{"version":3,"file":"angulartics2-pyze.js","sources":["ng:/angulartics2/pyze/pyze.ts","ng:/angulartics2/pyze/angulartics2-pyze.ts"],"names":[],"mappings":";;;;;;;IAYI,0BAAoB,YAA0B;AAClD,QADI,iBAGC;AACL,QAJwB,iBAAY,GAAZ,YAAY,CAAc;AAAC,QAC3C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,CAAS,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;AAClF,QAAQ,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;AACjF,KAAK;AACL,IACI,wCAAa,GAAb;AAAc,QAAd,iBAOC;AACL,QAPQ,IAAI,CAAC,YAAY,CAAC,SAAS;AACnC,aAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;AACxD,aAAW,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC;AACpD,QAAQ,IAAI,CAAC,YAAY,CAAC,UAAU;AACpC,aAAW,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;AACxD,aAAW,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,GAAA,CAAC,CAAC;AACrE,KAAK;AAEL,IAAI,oCAAS,GAAT,UAAU,IAAY;AAC1B,QAAQ,IAAI;AACZ,YAAY,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7D,SAAS;AAAC,QAAA,OAAO,CAAC,EAAE;AACpB,YAAY,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAChD,gBAAY,MAAM,CAAC,CAAC;AACpB,aAAa;AACb,SAAS;AACT,KAAK;AAEL,IAAI,qCAAU,GAAV,UAAW,MAAc,EAAE,UAAe;AAC9C,QAAQ,IAAI;AACZ,YAAY,UAAU,CAAC,6BAA6B,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;AACzE,SAAS;AAAC,QAAA,OAAO,CAAC,EAAE;AACpB,YAAY,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAChD,gBAAY,MAAM,CAAC,CAAC;AACpB,aAAa;AACb,SAAS;AACT,KAAK;AAEL,IAAI,oCAAS,GAAT,UAAU,MAAc;AAC5B,QAAQ,IAAI;AACZ,YAAY,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;AACnD,SAAS;AAAC,QAAA,OAAO,CAAC,EAAE;AACpB,YAAU,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAC9C,gBAAY,MAAM,CAAC,CAAC;AACpB,aAAW;AACX,SAAS;AACT,KAAO;AAEP,IAAI,qCAAU,GAAV,UAAW,UAAkB;AACjC,QAAQ,IAAI;AACZ,YAAY,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;AAChD,SAAS;AAAC,QAAA,OAAO,CAAC,EAAE;AACpB,YAAU,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;AAC9C,gBAAY,MAAM,CAAC,CAAC;AACpB,aAAW;AACX,SAAS;AACT,KAAK;AACJ;AAC2D,gBAtDtB,YAAY;AAAG;AAC5C;IAHK,gBAAgB,wBAD7B,UAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC,QACrB,gBAAgB,CAuD7B;;;;6EACD;AAAC,2BAlED;AAAE,CAUF;AAAK;ACVL;AACA;AACA;AACA;AACA;AACK","sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from 'angulartics2';\n\ndeclare var Pyze: any;\ndeclare var PyzeEvents: any;\ndeclare var PyzeIdentity: any;\n\n\n@Injectable({ providedIn: 'root' })\nexport class  Angulartics2Pyze {\n\n    constructor(private angulartics2: Angulartics2) {\n        this.angulartics2.setUsername.subscribe((x: string) => this.setUserId(x));\n        this.angulartics2.setUserProperties.subscribe((x) => this.postTraits(x));\n    }\n\n    startTracking(): void {\n        this.angulartics2.pageTrack\n          .pipe(this.angulartics2.filterDeveloperMode())\n          .subscribe((x) => this.pageTrack(x.path));\n        this.angulartics2.eventTrack\n          .pipe(this.angulartics2.filterDeveloperMode())\n          .subscribe((x) => this.eventTrack(x.action, x.properties));\n    }\n\n    pageTrack(path: string) {\n        try {\n            Pyze.postPageView('Page Viewed', { page: path });\n        } catch (e) {\n            if (!(e instanceof ReferenceError)) {\n            throw e;\n            }\n        }\n    }\n\n    eventTrack(action: string, properties: any) {\n        try {\n            PyzeEvents.postCustomEventWithAttributes(action, properties);\n        } catch (e) {\n            if (!(e instanceof ReferenceError)) {\n            throw e;\n            }\n        }\n    }\n\n    setUserId(userId: string) {\n        try {\n            PyzeIdentity.setUserIdentifier(userId);\n        } catch (e) {\n          if (!(e instanceof ReferenceError)) {\n            throw e;\n          }\n        }\n      }\n\n    postTraits(properties: string) {\n        try {\n            PyzeIdentity.postTraits(properties);\n        } catch (e) {\n          if (!(e instanceof ReferenceError)) {\n            throw e;\n          }\n        }\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './pyze';\n"]}