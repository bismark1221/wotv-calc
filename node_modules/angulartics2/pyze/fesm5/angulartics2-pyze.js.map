{"version":3,"file":"angulartics2-pyze.js","sources":["ng://angulartics2/pyze/pyze.ts","ng://angulartics2/pyze/angulartics2-pyze.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nimport { Angulartics2 } from 'angulartics2';\n\ndeclare var Pyze: any;\ndeclare var PyzeEvents: any;\ndeclare var PyzeIdentity: any;\n\n\n@Injectable({ providedIn: 'root' })\nexport class  Angulartics2Pyze {\n\n    constructor(private angulartics2: Angulartics2) {\n        this.angulartics2.setUsername.subscribe((x: string) => this.setUserId(x));\n        this.angulartics2.setUserProperties.subscribe((x) => this.postTraits(x));\n    }\n\n    startTracking(): void {\n        this.angulartics2.pageTrack\n          .pipe(this.angulartics2.filterDeveloperMode())\n          .subscribe((x) => this.pageTrack(x.path));\n        this.angulartics2.eventTrack\n          .pipe(this.angulartics2.filterDeveloperMode())\n          .subscribe((x) => this.eventTrack(x.action, x.properties));\n    }\n\n    pageTrack(path: string) {\n        try {\n            Pyze.postPageView('Page Viewed', { page: path });\n        } catch (e) {\n            if (!(e instanceof ReferenceError)) {\n            throw e;\n            }\n        }\n    }\n\n    eventTrack(action: string, properties: any) {\n        try {\n            PyzeEvents.postCustomEventWithAttributes(action, properties);\n        } catch (e) {\n            if (!(e instanceof ReferenceError)) {\n            throw e;\n            }\n        }\n    }\n\n    setUserId(userId: string) {\n        try {\n            PyzeIdentity.setUserIdentifier(userId);\n        } catch (e) {\n          if (!(e instanceof ReferenceError)) {\n            throw e;\n          }\n        }\n      }\n\n    postTraits(properties: string) {\n        try {\n            PyzeIdentity.postTraits(properties);\n        } catch (e) {\n          if (!(e instanceof ReferenceError)) {\n            throw e;\n          }\n        }\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './pyze';\n"],"names":[],"mappings":";;;;;IAYI,0BAAoB,YAA0B;QAA9C,iBAGC;QAHmB,iBAAY,GAAZ,YAAY,CAAc;QAC1C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,SAAS,CAAC,UAAC,CAAS,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;QAC1E,IAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;KAC5E;IAED,wCAAa,GAAb;QAAA,iBAOC;QANG,IAAI,CAAC,YAAY,CAAC,SAAS;aACxB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,GAAA,CAAC,CAAC;QAC5C,IAAI,CAAC,YAAY,CAAC,UAAU;aACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,mBAAmB,EAAE,CAAC;aAC7C,SAAS,CAAC,UAAC,CAAC,IAAK,OAAA,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,UAAU,CAAC,GAAA,CAAC,CAAC;KAChE;IAED,oCAAS,GAAT,UAAU,IAAY;QAClB,IAAI;YACA,IAAI,CAAC,YAAY,CAAC,aAAa,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;SACpD;QAAC,OAAO,CAAC,EAAE;YACR,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBACpC,MAAM,CAAC,CAAC;aACP;SACJ;KACJ;IAED,qCAAU,GAAV,UAAW,MAAc,EAAE,UAAe;QACtC,IAAI;YACA,UAAU,CAAC,6BAA6B,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;SAChE;QAAC,OAAO,CAAC,EAAE;YACR,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBACpC,MAAM,CAAC,CAAC;aACP;SACJ;KACJ;IAED,oCAAS,GAAT,UAAU,MAAc;QACpB,IAAI;YACA,YAAY,CAAC,iBAAiB,CAAC,MAAM,CAAC,CAAC;SAC1C;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACF;IAEH,qCAAU,GAAV,UAAW,UAAkB;QACzB,IAAI;YACA,YAAY,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;SACvC;QAAC,OAAO,CAAC,EAAE;YACV,IAAI,EAAE,CAAC,YAAY,cAAc,CAAC,EAAE;gBAClC,MAAM,CAAC,CAAC;aACT;SACF;KACJ;;gBApDiC,YAAY;;;IAFpC,gBAAgB;QAD7B,UAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;OACrB,gBAAgB,CAuD7B;2BAjED;CAUA;;ACVA;;;;;;"}