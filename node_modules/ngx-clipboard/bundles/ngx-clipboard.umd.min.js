!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("ngx-window-token"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-clipboard",["exports","@angular/common","@angular/core","ngx-window-token","rxjs"],e):e((t=t||self)["ngx-clipboard"]={},t.ng.common,t.ng.core,t.ngxWindowToken,t.rxjs)}(this,(function(t,e,o,n,r){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function i(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s}function s(t,e){return function(o,n){e(o,n,t)}}var c=function(){function t(t,e){this.document=t,this.window=e,this.copySubject=new r.Subject,this.copyResponse$=this.copySubject.asObservable(),this.config={}}return t.prototype.configure=function(t){this.config=t},t.prototype.copy=function(t){if(!this.isSupported||!t)return this.pushCopyResponse({isSuccess:!1,content:t});var e=this.copyFromContent(t);return e?this.pushCopyResponse({content:t,isSuccess:e}):this.pushCopyResponse({isSuccess:!1,content:t})},Object.defineProperty(t.prototype,"isSupported",{get:function(){return!!this.document.queryCommandSupported&&!!this.document.queryCommandSupported("copy")&&!!this.window},enumerable:!0,configurable:!0}),t.prototype.isTargetValid=function(t){if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){if(t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');return!0}throw new Error("Target should be input or textarea")},t.prototype.copyFromInputElement=function(t,e){void 0===e&&(e=!0);try{this.selectTarget(t);var o=this.copyText();return this.clearSelection(e?t:void 0,this.window),o&&this.isCopySuccessInIE11()}catch(t){return!1}},t.prototype.isCopySuccessInIE11=function(){var t=this.window.clipboardData;return!(t&&t.getData&&!t.getData("Text"))},t.prototype.copyFromContent=function(t,e){if(void 0===e&&(e=this.document.body),this.tempTextArea&&!e.contains(this.tempTextArea)&&this.destroy(this.tempTextArea.parentElement||void 0),!this.tempTextArea){this.tempTextArea=this.createTempTextArea(this.document,this.window);try{e.appendChild(this.tempTextArea)}catch(t){throw new Error("Container should be a Dom element")}}this.tempTextArea.value=t;var o=this.copyFromInputElement(this.tempTextArea,!1);return this.config.cleanUpAfterCopy&&this.destroy(this.tempTextArea.parentElement||void 0),o},t.prototype.destroy=function(t){void 0===t&&(t=this.document.body),this.tempTextArea&&(t.removeChild(this.tempTextArea),this.tempTextArea=void 0)},t.prototype.selectTarget=function(t){return t.select(),t.setSelectionRange(0,t.value.length),t.value.length},t.prototype.copyText=function(){return this.document.execCommand("copy")},t.prototype.clearSelection=function(t,e){var o;t&&t.focus(),null===(o=e.getSelection())||void 0===o||o.removeAllRanges()},t.prototype.createTempTextArea=function(t,e){var o,n="rtl"===t.documentElement.getAttribute("dir");(o=t.createElement("textarea")).style.fontSize="12pt",o.style.border="0",o.style.padding="0",o.style.margin="0",o.style.position="absolute",o.style[n?"right":"left"]="-9999px";var r=e.pageYOffset||t.documentElement.scrollTop;return o.style.top=r+"px",o.setAttribute("readonly",""),o},t.prototype.pushCopyResponse=function(t){this.copySubject.next(t)},t.prototype.pushCopyReponse=function(t){this.pushCopyResponse(t)},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:o.Inject,args:[e.DOCUMENT]}]},{type:void 0,decorators:[{type:o.Optional},{type:o.Inject,args:[n.WINDOW]}]}]},t.ɵprov=o["ɵɵdefineInjectable"]({factory:function(){return new t(o["ɵɵinject"](e.DOCUMENT),o["ɵɵinject"](n.WINDOW,8))},token:t,providedIn:"root"}),t=i([o.Injectable({providedIn:"root"}),s(0,o.Inject(e.DOCUMENT)),s(1,o.Optional()),s(1,o.Inject(n.WINDOW))],t)}(),p=function(){function t(t){this.clipboardSrv=t,this.cbOnSuccess=new o.EventEmitter,this.cbOnError=new o.EventEmitter}return t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.clipboardSrv.destroy(this.container)},t.prototype.onClick=function(t){this.clipboardSrv.isSupported?this.targetElm&&this.clipboardSrv.isTargetValid(this.targetElm)?this.handleResult(this.clipboardSrv.copyFromInputElement(this.targetElm),this.targetElm.value,t):this.cbContent&&this.handleResult(this.clipboardSrv.copyFromContent(this.cbContent,this.container),this.cbContent,t):this.handleResult(!1,void 0,t)},t.prototype.handleResult=function(t,e,o){var n={isSuccess:t,event:o};t?(n=Object.assign(n,{content:e,successMessage:this.cbSuccessMsg}),this.cbOnSuccess.emit(n)):this.cbOnError.emit(n),this.clipboardSrv.pushCopyResponse(n)},t.ctorParameters=function(){return[{type:c}]},i([o.Input("ngxClipboard")],t.prototype,"targetElm",void 0),i([o.Input()],t.prototype,"container",void 0),i([o.Input()],t.prototype,"cbContent",void 0),i([o.Input()],t.prototype,"cbSuccessMsg",void 0),i([o.Output()],t.prototype,"cbOnSuccess",void 0),i([o.Output()],t.prototype,"cbOnError",void 0),i([o.HostListener("click",["$event.target"])],t.prototype,"onClick",null),t=i([o.Directive({selector:"[ngxClipboard]"})],t)}(),a=function(){function t(t,e,o){this._clipboardService=t,this._viewContainerRef=e,this._templateRef=o}return t.prototype.ngOnInit=function(){this._clipboardService.isSupported&&this._viewContainerRef.createEmbeddedView(this._templateRef)},t.ctorParameters=function(){return[{type:c},{type:o.ViewContainerRef},{type:o.TemplateRef}]},t=i([o.Directive({selector:"[ngxClipboardIfSupported]"})],t)}(),u=function(){function t(){}return t=i([o.NgModule({imports:[e.CommonModule],declarations:[p,a],exports:[p,a]})],t)}();t.ClipboardDirective=p,t.ClipboardIfSupportedDirective=a,t.ClipboardModule=u,t.ClipboardService=c,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-clipboard.umd.min.js.map