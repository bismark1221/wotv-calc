{"remainingRequest":"/data/www/ffbe-chain/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/data/www/ffbe-chain/node_modules/angular-2-dropdown-multiselect/esm5/angular-2-dropdown-multiselect.js","dependencies":[{"path":"/data/www/ffbe-chain/node_modules/angular-2-dropdown-multiselect/esm5/angular-2-dropdown-multiselect.js","mtime":1529481785350},{"path":"/data/www/ffbe-chain/node_modules/cache-loader/dist/cjs.js","mtime":1529481786296},{"path":"/data/www/ffbe-chain/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1529481776533}],"contextDependencies":[],"result":["import { __spread } from 'tslib';\nimport { Pipe, Directive, ElementRef, Host, Input, ChangeDetectionStrategy, ChangeDetectorRef, Component, EventEmitter, forwardRef, HostListener, IterableDiffers, Output, NgModule } from '@angular/core';\nimport { FormBuilder, NG_VALUE_ACCESSOR, ReactiveFormsModule } from '@angular/forms';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { CommonModule } from '@angular/common';\nvar MultiSelectSearchFilter = /** @class */ /*@__PURE__*/ (function () {\n    function MultiSelectSearchFilter() {\n        this._searchCache = {};\n        this._searchCacheInclusive = {};\n        this._prevSkippedItems = {};\n    }\n    MultiSelectSearchFilter.prototype.transform = function (options, str, limit, renderLimit) {\n        if (str === void 0) {\n            str = '';\n        }\n        if (limit === void 0) {\n            limit = 0;\n        }\n        if (renderLimit === void 0) {\n            renderLimit = 0;\n        }\n        str = str.toLowerCase();\n        if (options !== this._lastOptions) {\n            this._lastOptions = options;\n            this._searchCache = {};\n            this._searchCacheInclusive = {};\n            this._prevSkippedItems = {};\n        }\n        var filteredOpts = this._searchCache.hasOwnProperty(str)\n            ? this._searchCache[str]\n            : this._doSearch(options, str, limit);\n        var isUnderLimit = options.length <= limit;\n        return isUnderLimit\n            ? filteredOpts\n            : this._limitRenderedItems(filteredOpts, renderLimit);\n    };\n    MultiSelectSearchFilter.prototype._getSubsetOptions = function (options, prevOptions, prevSearchStr) {\n        var prevInclusiveOrIdx = this._searchCacheInclusive[prevSearchStr];\n        if (prevInclusiveOrIdx === true) {\n            return prevOptions;\n        }\n        else if (typeof prevInclusiveOrIdx === 'number') {\n            return __spread(prevOptions, options.slice(prevInclusiveOrIdx));\n        }\n        return options;\n    };\n    MultiSelectSearchFilter.prototype._doSearch = function (options, str, limit) {\n        var prevStr = str.slice(0, -1);\n        var prevResults = this._searchCache[prevStr];\n        var prevResultShift = this._prevSkippedItems[prevStr] || 0;\n        if (prevResults) {\n            options = this._getSubsetOptions(options, prevResults, prevStr);\n        }\n        var optsLength = options.length;\n        var maxFound = limit > 0 ? Math.min(limit, optsLength) : optsLength;\n        var regexp = new RegExp(this._escapeRegExp(str), 'i');\n        var filteredOpts = [];\n        var i = 0, founded = 0, removedFromPrevResult = 0;\n        var doesOptionMatch = function (option) { return regexp.test(option.name); };\n        var getChildren = function (option) { return options.filter(function (child) { return child.parentId === option.id; }); };\n        var getParent = function (option) { return options.find(function (parent) { return option.parentId === parent.id; }); };\n        var foundFn = function (item) { filteredOpts.push(item); founded++; };\n        var notFoundFn = prevResults ? function () { return removedFromPrevResult++; } : function () { };\n        for (; i < optsLength && founded < maxFound; ++i) {\n            var option = options[i];\n            var directMatch = doesOptionMatch(option);\n            if (directMatch) {\n                foundFn(option);\n                continue;\n            }\n            if (typeof option.parentId === 'undefined') {\n                var childrenMatch = getChildren(option).some(doesOptionMatch);\n                if (childrenMatch) {\n                    foundFn(option);\n                    continue;\n                }\n            }\n            if (typeof option.parentId !== 'undefined') {\n                var parentMatch = doesOptionMatch(getParent(option));\n                if (parentMatch) {\n                    foundFn(option);\n                    continue;\n                }\n            }\n            notFoundFn();\n        }\n        var totalIterations = i + prevResultShift;\n        this._searchCache[str] = filteredOpts;\n        this._searchCacheInclusive[str] = i === optsLength || totalIterations;\n        this._prevSkippedItems[str] = removedFromPrevResult + prevResultShift;\n        return filteredOpts;\n    };\n    MultiSelectSearchFilter.prototype._limitRenderedItems = function (items, limit) {\n        return items.length > limit && limit > 0 ? items.slice(0, limit) : items;\n    };\n    MultiSelectSearchFilter.prototype._escapeRegExp = function (str) {\n        return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    };\n    return MultiSelectSearchFilter;\n}());\nvar AutofocusDirective = /** @class */ /*@__PURE__*/ (function () {\n    function AutofocusDirective(elemRef) {\n        this.elemRef = elemRef;\n    }\n    Object.defineProperty(AutofocusDirective.prototype, \"element\", {\n        get: function () {\n            return this.elemRef.nativeElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AutofocusDirective.prototype.ngOnInit = function () {\n        this.focus();\n    };\n    AutofocusDirective.prototype.ngOnChanges = function (changes) {\n        var ssAutofocusChange = changes[\"ssAutofocus\"];\n        if (ssAutofocusChange && !ssAutofocusChange.isFirstChange()) {\n            this.focus();\n        }\n    };\n    AutofocusDirective.prototype.focus = function () {\n        if (this.ssAutofocus) {\n            return;\n        }\n        this.element.focus && this.element.focus();\n    };\n    return AutofocusDirective;\n}());\nvar MULTISELECT_VALUE_ACCESSOR = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(function () { return MultiselectDropdownComponent; }),\n    multi: true,\n};\nvar MultiselectDropdownComponent = /** @class */ /*@__PURE__*/ (function () {\n    function MultiselectDropdownComponent(element, fb, searchFilter, differs, cdRef) {\n        this.element = element;\n        this.fb = fb;\n        this.searchFilter = searchFilter;\n        this.cdRef = cdRef;\n        this.filterControl = this.fb.control('');\n        this.disabled = false;\n        this.disabledSelection = false;\n        this.selectionLimitReached = new EventEmitter();\n        this.dropdownClosed = new EventEmitter();\n        this.dropdownOpened = new EventEmitter();\n        this.onAdded = new EventEmitter();\n        this.onRemoved = new EventEmitter();\n        this.onLazyLoad = new EventEmitter();\n        this.onFilter = this.filterControl.valueChanges;\n        this.destroyed$ = new Subject();\n        this.filteredOptions = [];\n        this.lazyLoadOptions = [];\n        this.renderFilteredOptions = [];\n        this.model = [];\n        this.prevModel = [];\n        this.numSelected = 0;\n        this.renderItems = true;\n        this.checkAllSearchRegister = new Set();\n        this.checkAllStatus = false;\n        this.loadedValueIds = [];\n        this._focusBack = false;\n        this.defaultSettings = {\n            closeOnClickOutside: true,\n            pullRight: false,\n            enableSearch: false,\n            searchRenderLimit: 0,\n            searchRenderAfter: 1,\n            searchMaxLimit: 0,\n            searchMaxRenderedItems: 0,\n            checkedStyle: 'checkboxes',\n            buttonClasses: 'btn btn-primary dropdown-toggle',\n            containerClasses: 'dropdown-inline',\n            selectionLimit: 0,\n            minSelectionLimit: 0,\n            closeOnSelect: false,\n            autoUnselect: false,\n            showCheckAll: false,\n            showUncheckAll: false,\n            fixedTitle: false,\n            dynamicTitleMaxItems: 3,\n            maxHeight: '300px',\n            isLazyLoad: false,\n            stopScrollPropagation: false,\n            loadViewDistance: 1,\n            selectAddedValues: false,\n            ignoreLabels: false,\n            maintainSelectionOrderInTitle: false,\n            focusBack: true\n        };\n        this.defaultTexts = {\n            checkAll: 'Check all',\n            uncheckAll: 'Uncheck all',\n            checked: 'checked',\n            checkedPlural: 'checked',\n            searchPlaceholder: 'Search...',\n            searchEmptyResult: 'Nothing found...',\n            searchNoRenderText: 'Type in search box to see results...',\n            defaultTitle: 'Select',\n            allSelected: 'All selected',\n        };\n        this._isVisible = false;\n        this._workerDocClicked = false;\n        this.onModelChange = function (_) { };\n        this.onModelTouched = function () { };\n        this.differ = differs.find([]).create(null);\n        this.settings = this.defaultSettings;\n        this.texts = this.defaultTexts;\n    }\n    Object.defineProperty(MultiselectDropdownComponent.prototype, \"focusBack\", {\n        get: function () {\n            return this.settings.focusBack && this._focusBack;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MultiselectDropdownComponent.prototype.onClick = function (target) {\n        if (!this.isVisible || !this.settings.closeOnClickOutside) {\n            return;\n        }\n        var parentFound = false;\n        while (target != null && !parentFound) {\n            if (target === this.element.nativeElement) {\n                parentFound = true;\n            }\n            target = target.parentElement;\n        }\n        if (!parentFound) {\n            this.isVisible = false;\n            this._focusBack = true;\n            this.dropdownClosed.emit();\n        }\n    };\n    Object.defineProperty(MultiselectDropdownComponent.prototype, \"isVisible\", {\n        get: function () {\n            return this._isVisible;\n        },\n        set: function (val) {\n            this._isVisible = val;\n            this._workerDocClicked = val ? false : this._workerDocClicked;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiselectDropdownComponent.prototype, \"searchLimit\", {\n        get: function () {\n            return this.settings.searchRenderLimit;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiselectDropdownComponent.prototype, \"searchRenderAfter\", {\n        get: function () {\n            return this.settings.searchRenderAfter;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(MultiselectDropdownComponent.prototype, \"searchLimitApplied\", {\n        get: function () {\n            return this.searchLimit > 0 && this.options.length > this.searchLimit;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    MultiselectDropdownComponent.prototype.getItemStyle = function (option) {\n        if (!option.isLabel) {\n        }\n        if (option.disabled) {\n        }\n    };\n    MultiselectDropdownComponent.prototype.getItemStyleSelectionDisabled = function () {\n        if (this.disabledSelection) {\n            return { cursor: 'default' };\n        }\n    };\n    MultiselectDropdownComponent.prototype.ngOnInit = function () {\n        var _this = this;\n        this.title = this.texts.defaultTitle || '';\n        this.filterControl.valueChanges.pipe(takeUntil(this.destroyed$)).subscribe(function () {\n            _this.updateRenderItems();\n            if (_this.settings.isLazyLoad) {\n                _this.load();\n            }\n        });\n    };\n    MultiselectDropdownComponent.prototype.ngOnChanges = function (changes) {\n        var _this = this;\n        if (changes['options']) {\n            this.options = this.options || [];\n            this.parents = this.options\n                .filter(function (option) { return typeof option.parentId === 'number'; })\n                .map(function (option) { return option.parentId; });\n            this.updateRenderItems();\n            if (this.settings.isLazyLoad &&\n                this.settings.selectAddedValues &&\n                this.loadedValueIds.length === 0) {\n                this.loadedValueIds = this.loadedValueIds.concat(changes[\"options\"].currentValue.map(function (value) { return value.id; }));\n            }\n            if (this.settings.isLazyLoad &&\n                this.settings.selectAddedValues &&\n                changes[\"options\"].previousValue) {\n                var addedValues_1 = changes[\"options\"].currentValue.filter(function (value) { return _this.loadedValueIds.indexOf(value.id) === -1; });\n                this.loadedValueIds.concat(addedValues_1.map(function (value) { return value.id; }));\n                if (this.checkAllStatus) {\n                    this.addChecks(addedValues_1);\n                }\n                else if (this.checkAllSearchRegister.size > 0) {\n                    this.checkAllSearchRegister.forEach(function (searchValue) { return _this.addChecks(_this.applyFilters(addedValues_1, searchValue)); });\n                }\n            }\n            if (this.texts) {\n                this.updateTitle();\n            }\n            this.fireModelChange();\n        }\n        if (changes['settings']) {\n            this.settings = Object.assign({}, this.defaultSettings, this.settings);\n        }\n        if (changes['texts']) {\n            this.texts = Object.assign({}, this.defaultTexts, this.texts);\n            if (!changes['texts'].isFirstChange()) {\n                this.updateTitle();\n            }\n        }\n    };\n    MultiselectDropdownComponent.prototype.ngOnDestroy = function () {\n        this.destroyed$.next();\n    };\n    MultiselectDropdownComponent.prototype.updateRenderItems = function () {\n        this.renderItems =\n            !this.searchLimitApplied ||\n                this.filterControl.value.length >= this.searchRenderAfter;\n        this.filteredOptions = this.applyFilters(this.options, this.settings.isLazyLoad ? '' : this.filterControl.value);\n        this.renderFilteredOptions = this.renderItems ? this.filteredOptions : [];\n        this.focusedItem = undefined;\n    };\n    MultiselectDropdownComponent.prototype.applyFilters = function (options, value) {\n        return this.searchFilter.transform(options, value, this.settings.searchMaxLimit, this.settings.searchMaxRenderedItems);\n    };\n    MultiselectDropdownComponent.prototype.fireModelChange = function () {\n        if (this.model != this.prevModel) {\n            this.prevModel = this.model;\n            this.onModelChange(this.model);\n            this.onModelTouched();\n            this.cdRef.markForCheck();\n        }\n    };\n    MultiselectDropdownComponent.prototype.writeValue = function (value) {\n        if (value !== undefined && value !== null) {\n            this.model = Array.isArray(value) ? value : [value];\n            this.ngDoCheck();\n        }\n        else {\n            this.model = [];\n        }\n    };\n    MultiselectDropdownComponent.prototype.registerOnChange = function (fn) {\n        this.onModelChange = fn;\n    };\n    MultiselectDropdownComponent.prototype.registerOnTouched = function (fn) {\n        this.onModelTouched = fn;\n    };\n    MultiselectDropdownComponent.prototype.setDisabledState = function (isDisabled) {\n        this.disabled = isDisabled;\n    };\n    MultiselectDropdownComponent.prototype.ngDoCheck = function () {\n        var changes = this.differ.diff(this.model);\n        if (changes) {\n            this.updateNumSelected();\n            this.updateTitle();\n        }\n    };\n    MultiselectDropdownComponent.prototype.validate = function (_c) {\n        var _this = this;\n        if (this.model && this.model.length) {\n            return {\n                required: {\n                    valid: false\n                }\n            };\n        }\n        if (this.options.filter(function (o) { return _this.model.indexOf(o.id) && !o.disabled; }).length === 0) {\n            return {\n                selection: {\n                    valid: false\n                }\n            };\n        }\n        return null;\n    };\n    MultiselectDropdownComponent.prototype.registerOnValidatorChange = function (_fn) {\n        throw new Error('Method not implemented.');\n    };\n    MultiselectDropdownComponent.prototype.clearSearch = function (event) {\n        this.maybeStopPropagation(event);\n        this.filterControl.setValue('');\n    };\n    MultiselectDropdownComponent.prototype.toggleDropdown = function (e) {\n        this.maybeStopPropagation(e);\n        if (this.isVisible) {\n            this._focusBack = true;\n        }\n        this.isVisible = !this.isVisible;\n        this.isVisible ? this.dropdownOpened.emit() : this.dropdownClosed.emit();\n        this.focusedItem = undefined;\n    };\n    MultiselectDropdownComponent.prototype.closeDropdown = function (e) {\n        this.isVisible = true;\n        this.toggleDropdown(e);\n    };\n    MultiselectDropdownComponent.prototype.isSelected = function (option) {\n        return this.model && this.model.indexOf(option.id) > -1;\n    };\n    MultiselectDropdownComponent.prototype.setSelected = function (_event, option) {\n        var _this = this;\n        if (option.isLabel) {\n            return;\n        }\n        if (option.disabled) {\n            return;\n        }\n        if (this.disabledSelection) {\n            return;\n        }\n        setTimeout(function () {\n            _this.maybeStopPropagation(_event);\n            _this.maybePreventDefault(_event);\n            var index = _this.model.indexOf(option.id);\n            var isAtSelectionLimit = _this.settings.selectionLimit > 0 &&\n                _this.model.length >= _this.settings.selectionLimit;\n            var removeItem = function (idx, id) {\n                _this.model.splice(idx, 1);\n                _this.onRemoved.emit(id);\n                if (_this.settings.isLazyLoad &&\n                    _this.lazyLoadOptions.some(function (val) { return val.id === id; })) {\n                    _this.lazyLoadOptions.splice(_this.lazyLoadOptions.indexOf(_this.lazyLoadOptions.find(function (val) { return val.id === id; })), 1);\n                }\n            };\n            if (index > -1) {\n                if (_this.settings.minSelectionLimit === undefined ||\n                    _this.numSelected > _this.settings.minSelectionLimit) {\n                    removeItem(index, option.id);\n                }\n                var parentIndex = option.parentId && _this.model.indexOf(option.parentId);\n                if (parentIndex > -1) {\n                    removeItem(parentIndex, option.parentId);\n                }\n                else if (_this.parents.indexOf(option.id) > -1) {\n                    _this.options\n                        .filter(function (child) {\n                        return _this.model.indexOf(child.id) > -1 &&\n                            child.parentId === option.id;\n                    })\n                        .forEach(function (child) { return removeItem(_this.model.indexOf(child.id), child.id); });\n                }\n            }\n            else if (isAtSelectionLimit && !_this.settings.autoUnselect) {\n                _this.selectionLimitReached.emit(_this.model.length);\n                return;\n            }\n            else {\n                var addItem_1 = function (id) {\n                    _this.model.push(id);\n                    _this.onAdded.emit(id);\n                    if (_this.settings.isLazyLoad &&\n                        !_this.lazyLoadOptions.some(function (val) { return val.id === id; })) {\n                        _this.lazyLoadOptions.push(option);\n                    }\n                };\n                addItem_1(option.id);\n                if (!isAtSelectionLimit) {\n                    if (option.parentId && !_this.settings.ignoreLabels) {\n                        var children = _this.options.filter(function (child) { return child.id !== option.id && child.parentId === option.parentId; });\n                        if (children.every(function (child) { return _this.model.indexOf(child.id) > -1; })) {\n                            addItem_1(option.parentId);\n                        }\n                    }\n                    else if (_this.parents.indexOf(option.id) > -1) {\n                        var children = _this.options.filter(function (child) { return _this.model.indexOf(child.id) < 0 && child.parentId === option.id; });\n                        children.forEach(function (child) { return addItem_1(child.id); });\n                    }\n                }\n                else {\n                    removeItem(0, _this.model[0]);\n                }\n            }\n            if (_this.settings.closeOnSelect) {\n                _this.toggleDropdown();\n            }\n            _this.model = _this.model.slice();\n            _this.fireModelChange();\n        }, 0);\n    };\n    MultiselectDropdownComponent.prototype.updateNumSelected = function () {\n        var _this = this;\n        this.numSelected =\n            this.model.filter(function (id) { return _this.parents.indexOf(id) < 0; }).length || 0;\n    };\n    MultiselectDropdownComponent.prototype.updateTitle = function () {\n        var _this = this;\n        var numSelectedOptions = this.options.length;\n        if (this.settings.ignoreLabels) {\n            numSelectedOptions = this.options.filter(function (option) { return !option.isLabel; }).length;\n        }\n        if (this.numSelected === 0 || this.settings.fixedTitle) {\n            this.title = this.texts ? this.texts.defaultTitle : '';\n        }\n        else if (this.settings.displayAllSelectedText &&\n            this.model.length === numSelectedOptions) {\n            this.title = this.texts ? this.texts.allSelected : '';\n        }\n        else if (this.settings.dynamicTitleMaxItems &&\n            this.settings.dynamicTitleMaxItems >= this.numSelected) {\n            var useOptions_1 = this.settings.isLazyLoad && this.lazyLoadOptions.length\n                ? this.lazyLoadOptions\n                : this.options;\n            var titleSelections = void 0;\n            if (this.settings.maintainSelectionOrderInTitle) {\n                var optionIds_1 = useOptions_1.map(function (selectOption, idx) { return selectOption.id; });\n                titleSelections = this.model\n                    .map(function (selectedId) { return optionIds_1.indexOf(selectedId); })\n                    .filter(function (optionIndex) { return optionIndex > -1; })\n                    .map(function (optionIndex) { return useOptions_1[optionIndex]; });\n            }\n            else {\n                titleSelections = useOptions_1.filter(function (option) { return _this.model.indexOf(option.id) > -1; });\n            }\n            this.title = titleSelections.map(function (option) { return option.name; }).join(', ');\n        }\n        else {\n            this.title =\n                this.numSelected +\n                    ' ' +\n                    (this.numSelected === 1\n                        ? this.texts.checked\n                        : this.texts.checkedPlural);\n        }\n        this.cdRef.markForCheck();\n    };\n    MultiselectDropdownComponent.prototype.searchFilterApplied = function () {\n        return (this.settings.enableSearch &&\n            this.filterControl.value &&\n            this.filterControl.value.length > 0);\n    };\n    MultiselectDropdownComponent.prototype.addChecks = function (options) {\n        var _this = this;\n        var checkedOptions = options\n            .filter(function (option) {\n            if (!option.disabled &&\n                (_this.model.indexOf(option.id) === -1 &&\n                    !(_this.settings.ignoreLabels && option.isLabel))) {\n                _this.onAdded.emit(option.id);\n                return true;\n            }\n            return false;\n        })\n            .map(function (option) { return option.id; });\n        this.model = this.model.concat(checkedOptions);\n    };\n    MultiselectDropdownComponent.prototype.checkAll = function () {\n        if (!this.disabledSelection) {\n            this.addChecks(!this.searchFilterApplied() ? this.options : this.filteredOptions);\n            if (this.settings.isLazyLoad && this.settings.selectAddedValues) {\n                if (this.searchFilterApplied() && !this.checkAllStatus) {\n                    this.checkAllSearchRegister.add(this.filterControl.value);\n                }\n                else {\n                    this.checkAllSearchRegister.clear();\n                    this.checkAllStatus = true;\n                }\n                this.load();\n            }\n            this.fireModelChange();\n        }\n    };\n    MultiselectDropdownComponent.prototype.uncheckAll = function () {\n        var _this = this;\n        if (!this.disabledSelection) {\n            var checkedOptions = this.model;\n            var unCheckedOptions_1 = !this.searchFilterApplied()\n                ? this.model\n                : this.filteredOptions.map(function (option) { return option.id; });\n            unCheckedOptions_1 = checkedOptions.filter(function (item) { return unCheckedOptions_1.indexOf(item) > -1; });\n            this.model = this.model.filter(function (id) {\n                if ((unCheckedOptions_1.indexOf(id) < 0 &&\n                    _this.settings.minSelectionLimit === undefined) ||\n                    unCheckedOptions_1.indexOf(id) < _this.settings.minSelectionLimit) {\n                    return true;\n                }\n                else {\n                    _this.onRemoved.emit(id);\n                    return false;\n                }\n            });\n            if (this.settings.isLazyLoad && this.settings.selectAddedValues) {\n                if (this.searchFilterApplied()) {\n                    if (this.checkAllSearchRegister.has(this.filterControl.value)) {\n                        this.checkAllSearchRegister.delete(this.filterControl.value);\n                        this.checkAllSearchRegister.forEach(function (searchTerm) {\n                            var filterOptions = this.applyFilters(this.options.filter(function (option) { return unCheckedOptions_1.indexOf(option.id) > -1; }), searchTerm);\n                            this.addChecks(filterOptions);\n                        });\n                    }\n                }\n                else {\n                    this.checkAllSearchRegister.clear();\n                    this.checkAllStatus = false;\n                }\n                this.load();\n            }\n            this.fireModelChange();\n        }\n    };\n    MultiselectDropdownComponent.prototype.preventCheckboxCheck = function (event, option) {\n        if (option.disabled ||\n            (this.settings.selectionLimit &&\n                !this.settings.autoUnselect &&\n                this.model.length >= this.settings.selectionLimit &&\n                this.model.indexOf(option.id) === -1 &&\n                this.maybePreventDefault(event))) {\n            this.maybePreventDefault(event);\n        }\n    };\n    MultiselectDropdownComponent.prototype.isCheckboxDisabled = function (option) {\n        return this.disabledSelection || option && option.disabled;\n    };\n    MultiselectDropdownComponent.prototype.checkScrollPosition = function (ev) {\n        var scrollTop = ev.target.scrollTop;\n        var scrollHeight = ev.target.scrollHeight;\n        var scrollElementHeight = ev.target.clientHeight;\n        var roundingPixel = 1;\n        var gutterPixel = 1;\n        if (scrollTop >=\n            scrollHeight -\n                (1 + this.settings.loadViewDistance) * scrollElementHeight -\n                roundingPixel -\n                gutterPixel) {\n            this.load();\n        }\n    };\n    MultiselectDropdownComponent.prototype.checkScrollPropagation = function (ev, element) {\n        var scrollTop = element.scrollTop;\n        var scrollHeight = element.scrollHeight;\n        var scrollElementHeight = element.clientHeight;\n        if ((ev.deltaY > 0 && scrollTop + scrollElementHeight >= scrollHeight) ||\n            (ev.deltaY < 0 && scrollTop <= 0)) {\n            ev = ev || window.event;\n            this.maybePreventDefault(ev);\n            ev.returnValue = false;\n        }\n    };\n    MultiselectDropdownComponent.prototype.trackById = function (idx, selectOption) {\n        return selectOption.id;\n    };\n    MultiselectDropdownComponent.prototype.load = function () {\n        this.onLazyLoad.emit({\n            length: this.options.length,\n            filter: this.filterControl.value,\n            checkAllSearches: this.checkAllSearchRegister,\n            checkAllStatus: this.checkAllStatus,\n        });\n    };\n    MultiselectDropdownComponent.prototype.focusItem = function (dir, e) {\n        if (!this.isVisible) {\n            return;\n        }\n        this.maybePreventDefault(e);\n        var idx = this.filteredOptions.indexOf(this.focusedItem);\n        if (idx === -1) {\n            this.focusedItem = this.filteredOptions[0];\n            return;\n        }\n        var nextIdx = idx + dir;\n        var newIdx = nextIdx < 0\n            ? this.filteredOptions.length - 1\n            : nextIdx % this.filteredOptions.length;\n        this.focusedItem = this.filteredOptions[newIdx];\n    };\n    MultiselectDropdownComponent.prototype.maybePreventDefault = function (e) {\n        if (e && e.preventDefault) {\n            e.preventDefault();\n        }\n    };\n    MultiselectDropdownComponent.prototype.maybeStopPropagation = function (e) {\n        if (e && e.stopPropagation) {\n            e.stopPropagation();\n        }\n    };\n    return MultiselectDropdownComponent;\n}());\nvar MultiselectDropdownModule = /** @class */ /*@__PURE__*/ (function () {\n    function MultiselectDropdownModule() {\n    }\n    return MultiselectDropdownModule;\n}());\nexport { MultiSelectSearchFilter, MultiselectDropdownModule, MultiselectDropdownComponent, AutofocusDirective as ɵa };\n//# sourceMappingURL=angular-2-dropdown-multiselect.js.map\n",null]}