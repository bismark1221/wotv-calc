{"remainingRequest":"/data/www/ffbe-chain/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/data/www/ffbe-chain/node_modules/angulartics2/dist/es5/providers/segment/angulartics2-segment.js","dependencies":[{"path":"/data/www/ffbe-chain/node_modules/angulartics2/dist/es5/providers/segment/angulartics2-segment.js","mtime":1529481785450},{"path":"/data/www/ffbe-chain/node_modules/cache-loader/dist/cjs.js","mtime":1529481786296},{"path":"/data/www/ffbe-chain/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1529481776533}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar angulartics2_1 = require(\"../../core/angulartics2\");\nvar Angulartics2Segment = /** @class */ /*@__PURE__*/ (function () {\n    function Angulartics2Segment(angulartics2) {\n        var _this = this;\n        this.angulartics2 = angulartics2;\n        this.angulartics2.pageTrack.subscribe(function (x) { return _this.pageTrack(x.path, x.location); });\n        this.angulartics2.eventTrack.subscribe(function (x) { return _this.eventTrack(x.action, x.properties); });\n        this.angulartics2.setUserProperties.subscribe(function (x) { return _this.setUserProperties(x); });\n        this.angulartics2.setUserPropertiesOnce.subscribe(function (x) { return _this.setUserProperties(x); });\n        this.angulartics2.setAlias.subscribe(function (x) { return _this.setAlias(x); });\n    }\n    // https://segment.com/docs/libraries/analytics.js/#page\n    // analytics.page([category], [name], [properties], [options], [callback]);\n    // TODO : Support optional parameters where the parameter order and type changes their meaning\n    // e.g.\n    // (string) is (name)\n    // (string, string) is (category, name)\n    // (string, object) is (name, properties)\n    Angulartics2Segment.prototype.pageTrack = function (path, location) {\n        try {\n            analytics.page(path);\n        }\n        catch (e) {\n            if (!(e instanceof ReferenceError)) {\n                throw e;\n            }\n        }\n    };\n    // https://segment.com/docs/libraries/analytics.js/#track\n    // analytics.track(event, [properties], [options], [callback]);\n    Angulartics2Segment.prototype.eventTrack = function (action, properties) {\n        try {\n            analytics.track(action, properties);\n        }\n        catch (e) {\n            if (!(e instanceof ReferenceError)) {\n                throw e;\n            }\n        }\n    };\n    // https://segment.com/docs/libraries/analytics.js/#identify\n    // analytics.identify([userId], [traits], [options], [callback]);\n    Angulartics2Segment.prototype.setUserProperties = function (properties) {\n        try {\n            if (properties.userId) {\n                analytics.identify(properties.userId, properties);\n            }\n            else {\n                analytics.identify(properties);\n            }\n        }\n        catch (e) {\n            if (!(e instanceof ReferenceError)) {\n                throw e;\n            }\n        }\n    };\n    // https://segment.com/docs/libraries/analytics.js/#alias\n    // analytics.alias(userId, previousId, options, callback);\n    Angulartics2Segment.prototype.setAlias = function (alias) {\n        try {\n            analytics.alias(alias);\n        }\n        catch (e) {\n            if (!(e instanceof ReferenceError)) {\n                throw e;\n            }\n        }\n    };\n    Angulartics2Segment.decorators = [\n        { type: core_1.Injectable },\n    ];\n    return Angulartics2Segment;\n}());\nexports.Angulartics2Segment = Angulartics2Segment;\n",null]}