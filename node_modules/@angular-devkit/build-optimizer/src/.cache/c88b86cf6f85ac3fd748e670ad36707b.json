{"remainingRequest":"/data/www/ffbe-chain/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/data/www/ffbe-chain/node_modules/angulartics2/dist/es5/providers/adobeanalytics/angulartics2-adobeanalytics.js","dependencies":[{"path":"/data/www/ffbe-chain/node_modules/angulartics2/dist/es5/providers/adobeanalytics/angulartics2-adobeanalytics.js","mtime":1529481785435},{"path":"/data/www/ffbe-chain/node_modules/cache-loader/dist/cjs.js","mtime":1529481786296},{"path":"/data/www/ffbe-chain/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1529481776533}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar common_1 = require(\"@angular/common\");\nvar angulartics2_1 = require(\"../../core/angulartics2\");\nvar Angulartics2AdobeAnalytics = /** @class */ /*@__PURE__*/ (function () {\n    function Angulartics2AdobeAnalytics(angulartics2, location) {\n        var _this = this;\n        this.angulartics2 = angulartics2;\n        this.location = location;\n        this.angulartics2.settings.pageTracking.trackRelativePath = true;\n        this.angulartics2.pageTrack.subscribe(function (x) { return _this.pageTrack(x.path); });\n        this.angulartics2.eventTrack.subscribe(function (x) { return _this.eventTrack(x.action, x.properties); });\n        this.angulartics2.setUserProperties.subscribe(function (x) { return _this.setUserProperties(x); });\n    }\n    Angulartics2AdobeAnalytics.prototype.pageTrack = function (path) {\n        if (typeof s !== 'undefined' && s) {\n            s.clearVars();\n            s.t({ pageName: path });\n        }\n    };\n    /**\n     * Track Event in Adobe Analytics\n     * @name eventTrack\n     *\n     * @param {string} action Required 'action' (string) associated with the event\n     * @param {object} properties Comprised of the mandatory field 'category' (string) and optional  fields 'label' (string), 'value' (integer) and 'noninteraction' (boolean)\n     *\n     * @link https://marketing.adobe.com/resources/help/en_US/sc/implement/js_implementation.html\n     */\n    Angulartics2AdobeAnalytics.prototype.eventTrack = function (action, properties) {\n        if (!properties) {\n            properties = properties || {};\n        }\n        if (typeof s !== 'undefined' && s) {\n            if (typeof properties === 'object') {\n                this.setUserProperties(properties);\n            }\n            if (action) {\n                // if linkName property is passed, use that; otherwise, the action is the linkName\n                var linkName = (properties['linkName']) ? properties['linkName'] : action;\n                // note that 'this' should refer the link element, but we can't get that in this function. example:\n                // <a href=\"http://anothersite.com\" onclick=\"s.tl(this,'e','AnotherSite',null)\">\n                // if disableDelay property is passed, use that to turn off/on the 500ms delay; otherwise, it uses this\n                var disableDelay = !!properties['disableDelay'] ? true : this;\n                // if action property is passed, use that; otherwise, the action remains unchanged\n                if (properties['action']) {\n                    action = properties['action'];\n                }\n                this.setPageName();\n                if (action.toUpperCase() === \"DOWNLOAD\") {\n                    s.tl(disableDelay, 'd', linkName);\n                }\n                else if (action.toUpperCase() === \"EXIT\") {\n                    s.tl(disableDelay, 'e', linkName);\n                }\n                else {\n                    s.tl(disableDelay, 'o', linkName);\n                }\n            }\n        }\n    };\n    Angulartics2AdobeAnalytics.prototype.setPageName = function () {\n        var path = this.location.path(true);\n        var hashNdx = path.indexOf('#');\n        if (hashNdx > 0 && hashNdx < path.length) {\n            s.pageName = path.substring(hashNdx + 1);\n        }\n        else {\n            s.pageName = path;\n        }\n    };\n    Angulartics2AdobeAnalytics.prototype.setUserProperties = function (properties) {\n        if (typeof s !== 'undefined' && s) {\n            if (typeof properties === 'object') {\n                for (var key in properties) {\n                    if (properties.hasOwnProperty(key)) {\n                        s[key] = properties[key];\n                    }\n                }\n            }\n        }\n    };\n    Angulartics2AdobeAnalytics.decorators = [\n        { type: core_1.Injectable },\n    ];\n    return Angulartics2AdobeAnalytics;\n}());\nexports.Angulartics2AdobeAnalytics = Angulartics2AdobeAnalytics;\n",null]}